fig <- plot_ly(data, x = ~flipper_length_mm, y = ~body_mass_g, type = 'scatter', mode = 'markers', size = ~bill_length_mm, color = ~species, colors = colors,
#changing range of bubble sizes
sizes = c(8,25),
marker = list(opacity = 0.8, sizemode = 'diameter', borderwidth = 5))
fig <- fig %>% layout(
xaxis = list(title = "Flipper Length (mm)",
gridcolor = "white",
gridwith = 5,
tickvals = list(170,180,190,200,210,220,230),
minor = list(gridcolor = "white",
tickvals = list(175,185,195,205,215,225),
gridwidth = 1)),
yaxis = list(title = "Body Mass (g) ",
gridcolor = "white",
gridwith = 3,
tickvals = list(3000,4000,5000,6000),
minor = list(gridcolor = "white",
tickvals = list(3500,4500,5500),
gridwidth = 1)),
plot_bgcolor = "lightgray",
legend = list(title = list(text="Species"),
y=.3,
bgcolor = "lightgray"))
# ---- Bubble size legend (40 and 50) ----
fig <- fig %>% add_trace(
x = c(250, 250),          # place them off-plot
y = c(6500, 6500),
type = "scatter",
mode = "markers",
marker = list(
size = c(40, 50),       # <-- your two bubble sizes
sizemode = "diameter",
color = "gray",
opacity = 0.6
),
text = c("40 mm", "50 mm"),
hoverinfo = "text",
name = "Bubble Size",
legendgroup = "size",
showlegend = TRUE
)
fig
library(plotly)
data <- read.csv("https://raw.githubusercontent.com/hsmith1212/a2-DataVis-5ways-has/refs/heads/main/penglings.csv")
colors <- c("#FA8000", "#800080", "#008080")
fig <- plot_ly(data, x = ~flipper_length_mm, y = ~body_mass_g, type = 'scatter', mode = 'markers', size = ~bill_length_mm, color = ~species, colors = colors,
#changing range of bubble sizes
sizes = c(8,25),
marker = list(opacity = 0.8, sizemode = 'diameter', borderwidth = 5))
# ---- Bubble size legend (40 and 50) ----
fig <- fig %>% add_trace(
x = c(250, 250),          # place them off-plot
y = c(6500, 6500),
type = "scatter",
mode = "markers",
marker = list(
size = c(40, 50),       # <-- your two bubble sizes
sizemode = "diameter",
color = "gray",
opacity = 0.6
),
text = c("40 mm", "50 mm"),
hoverinfo = "text",
name = "Bubble Size",
legendgroup = "size",
showlegend = TRUE
)
fig <- fig %>% layout(
xaxis = list(title = "Flipper Length (mm)",
gridcolor = "white",
gridwith = 5,
tickvals = list(170,180,190,200,210,220,230),
minor = list(gridcolor = "white",
tickvals = list(175,185,195,205,215,225),
gridwidth = 1)),
yaxis = list(title = "Body Mass (g) ",
gridcolor = "white",
gridwith = 3,
tickvals = list(3000,4000,5000,6000),
minor = list(gridcolor = "white",
tickvals = list(3500,4500,5500),
gridwidth = 1)),
plot_bgcolor = "lightgray",
legend = list(title = list(text="Species"),
y=.3,
bgcolor = "lightgray"))
fig
library(plotly)
data <- read.csv("https://raw.githubusercontent.com/hsmith1212/a2-DataVis-5ways-has/refs/heads/main/penglings.csv")
colors <- c("#FA8000", "#800080", "#008080")
fig <- plot_ly(data, x = ~flipper_length_mm, y = ~body_mass_g, type = 'scatter', mode = 'markers', size = ~bill_length_mm, color = ~species, colors = colors,
#changing range of bubble sizes
sizes = c(8,25),
marker = list(opacity = 0.8, sizemode = 'diameter', borderwidth = 5))
fig <- fig %>% add_trace(
x = c(250, 250),     # off-plot
y = c(6500, 6500),
type = "scatter",
mode = "markers",
marker = list(
size = c(40, 50),  # <-- your two bubble sizes
sizemode = "diameter",
color = "gray",
opacity = 0.6
),
text = c("40 mm", "50 mm"),
hoverinfo = "text",
name = "Bubble Size",
legendgroup = "size",
showlegend = TRUE,
inherit = FALSE       # <-- CRITICAL FIX
)
fig <- fig %>% layout(
xaxis = list(title = "Flipper Length (mm)",
gridcolor = "white",
gridwith = 5,
tickvals = list(170,180,190,200,210,220,230),
minor = list(gridcolor = "white",
tickvals = list(175,185,195,205,215,225),
gridwidth = 1)),
yaxis = list(title = "Body Mass (g) ",
gridcolor = "white",
gridwith = 3,
tickvals = list(3000,4000,5000,6000),
minor = list(gridcolor = "white",
tickvals = list(3500,4500,5500),
gridwidth = 1)),
plot_bgcolor = "lightgray",
legend = list(title = list(text="Species"),
y=.3,
bgcolor = "lightgray"))
fig
library(plotly)
data <- read.csv("https://raw.githubusercontent.com/hsmith1212/a2-DataVis-5ways-has/refs/heads/main/penglings.csv")
colors <- c("#FA8000", "#800080", "#008080")
fig <- plot_ly(data, x = ~flipper_length_mm, y = ~body_mass_g, type = 'scatter', mode = 'markers', size = ~bill_length_mm, color = ~species, colors = colors,
#changing range of bubble sizes
sizes = c(8,25),
marker = list(opacity = 0.8, sizemode = 'diameter', borderwidth = 5))
size_legend <- c(40, 45, 50)
size_labels <- c("40 mm", "45 mm", "50 mm")
for (i in seq_along(size_legend)) {
fig <- fig %>% add_trace(
x = NA,
y = NA,
type = "scatter",
mode = "markers",
marker = list(
size = size_legend[i],
sizemode = "diameter",
color = "gray",
opacity = 0.6
),
name = paste("Bill length:", size_labels[i]),
showlegend = TRUE,
inherit = FALSE
)
}
fig <- fig %>% layout(
xaxis = list(title = "Flipper Length (mm)",
gridcolor = "white",
gridwith = 5,
tickvals = list(170,180,190,200,210,220,230),
minor = list(gridcolor = "white",
tickvals = list(175,185,195,205,215,225),
gridwidth = 1)),
yaxis = list(title = "Body Mass (g) ",
gridcolor = "white",
gridwith = 3,
tickvals = list(3000,4000,5000,6000),
minor = list(gridcolor = "white",
tickvals = list(3500,4500,5500),
gridwidth = 1)),
plot_bgcolor = "lightgray",
legend = list(title = list(text="Species"),
y=.3,
bgcolor = "lightgray"))
fig
library(plotly)
data <- read.csv("https://raw.githubusercontent.com/hsmith1212/a2-DataVis-5ways-has/refs/heads/main/penglings.csv")
colors <- c("#FA8000", "#800080", "#008080")
fig <- plot_ly(data, x = ~flipper_length_mm, y = ~body_mass_g, type = 'scatter', mode = 'markers', size = ~bill_length_mm, color = ~species, colors = colors,
#changing range of bubble sizes
sizes = c(8,25),
marker = list(opacity = 0.8, sizemode = 'diameter', borderwidth = 5))
size_legend <- c(40, 45, 50)
size_labels <- c("40 mm", "45 mm", "50 mm")
for (i in seq_along(size_legend)) {
fig <- fig %>% add_trace(
x = NA,
y = NA,
type = "scatter",
mode = "markers",
marker = list(
size = size_legend[i],
sizemode = "diameter",
color = "gray",
opacity = 0.6
),
name = paste("Bill length:", size_labels[i]),
showlegend = TRUE,
inherit = FALSE
)
}
fig <- fig %>% layout(
xaxis = list(title = "Flipper Length (mm)",
gridcolor = "white",
gridwith = 5,
tickvals = list(170,180,190,200,210,220,230),
minor = list(gridcolor = "white",
tickvals = list(175,185,195,205,215,225),
gridwidth = 1)),
yaxis = list(title = "Body Mass (g) ",
gridcolor = "white",
gridwith = 3,
tickvals = list(3000,4000,5000,6000),
minor = list(gridcolor = "white",
tickvals = list(3500,4500,5500),
gridwidth = 1)),
plot_bgcolor = "lightgray",
legend = list(title = list(text="Species"),
y=.3,
bgcolor = "lightgray"))
fig
library(plotly)
data <- read.csv("https://raw.githubusercontent.com/hsmith1212/a2-DataVis-5ways-has/refs/heads/main/penglings.csv")
colors <- c("#FA8000", "#800080", "#008080")
fig <- plot_ly(data, x = ~flipper_length_mm, y = ~body_mass_g, type = 'scatter', mode = 'markers', size = ~bill_length_mm, color = ~species, colors = colors,
#changing range of bubble sizes
sizes = c(8,25),
marker = list(opacity = 0.8, sizemode = 'diameter', borderwidth = 5))
size_legend <- c(40, 45, 50)
size_labels <- c("40 mm", "45 mm", "50 mm")
for (i in seq_along(size_legend)) {
fig <- fig %>% add_trace(
x = c(0),
y = c(0),
type = "scatter",
mode = "markers",
marker = list(
size = size_legend[i],
sizemode = "diameter",
color = "gray",
opacity = 0.6
),
name = paste("Bill length:", size_labels[i]),
visible = "legendonly",
showlegend = TRUE,
inherit = FALSE
)
}
fig <- fig %>% layout(
xaxis = list(title = "Flipper Length (mm)",
gridcolor = "white",
gridwith = 5,
tickvals = list(170,180,190,200,210,220,230),
minor = list(gridcolor = "white",
tickvals = list(175,185,195,205,215,225),
gridwidth = 1)),
yaxis = list(title = "Body Mass (g) ",
gridcolor = "white",
gridwith = 3,
tickvals = list(3000,4000,5000,6000),
minor = list(gridcolor = "white",
tickvals = list(3500,4500,5500),
gridwidth = 1)),
plot_bgcolor = "lightgray",
legend = list(title = list(text="Species"),
y=.3,
bgcolor = "lightgray"))
fig
library(plotly)
data <- read.csv("https://raw.githubusercontent.com/hsmith1212/a2-DataVis-5ways-has/refs/heads/main/penglings.csv")
colors <- c("#FA8000", "#800080", "#008080")
fig <- plot_ly(data, x = ~flipper_length_mm, y = ~body_mass_g, type = 'scatter', mode = 'markers', size = ~bill_length_mm, color = ~species, colors = colors,
#changing range of bubble sizes
sizes = c(8,25),
marker = list(opacity = 0.8, sizemode = 'diameter', borderwidth = 5))
size_legend <- c(40, 50)
size_labels <- c("40 mm", "50 mm")
for (i in seq_along(size_legend)) {
fig <- fig %>% add_trace(
x = c(0),
y = c(0),
type = "scatter",
mode = "markers",
marker = list(
size = size_legend[i],
sizemode = "diameter",
color = "gray",
opacity = 0.6
),
name = paste("Bill length:", size_labels[i]),
visible = "legendonly",
showlegend = TRUE,
inherit = FALSE
)
}
fig <- fig %>% layout(
xaxis = list(title = "Flipper Length (mm)",
gridcolor = "white",
gridwith = 5,
tickvals = list(170,180,190,200,210,220,230),
minor = list(gridcolor = "white",
tickvals = list(175,185,195,205,215,225),
gridwidth = 1)),
yaxis = list(title = "Body Mass (g) ",
gridcolor = "white",
gridwith = 3,
tickvals = list(3000,4000,5000,6000),
minor = list(gridcolor = "white",
tickvals = list(3500,4500,5500),
gridwidth = 1)),
plot_bgcolor = "lightgray",
legend = list(title = list(text="Species"),
y=.3,
bgcolor = "lightgray"))
fig
library(plotly)
data <- read.csv("https://raw.githubusercontent.com/hsmith1212/a2-DataVis-5ways-has/refs/heads/main/penglings.csv")
colors <- c("#FA8000", "#800080", "#008080")
fig <- plot_ly(data, x = ~flipper_length_mm, y = ~body_mass_g, type = 'scatter', mode = 'markers', size = ~bill_length_mm, color = ~species, colors = colors,
#changing range of bubble sizes
sizes = c(8,25),
marker = list(opacity = 0.8, sizemode = 'diameter', borderwidth = 5))
size_legend <- c(40, 50)
size_labels <- c("40 mm", "45 mm", "50 mm")
for (i in seq_along(size_legend)) {
fig <- fig %>% add_trace(
x = c(0),
y = c(0),
type = "scatter",
mode = "markers",
marker = list(
size = size_legend[i],
sizemode = "diameter",
color = "gray",
opacity = 0.6
),
name = paste("Bill length:", size_labels[i]),
visible = "legendonly",
showlegend = TRUE,
inherit = FALSE
)
}
fig <- fig %>% layout(
xaxis = list(title = "Flipper Length (mm)",
gridcolor = "white",
gridwith = 5,
tickvals = list(170,180,190,200,210,220,230),
minor = list(gridcolor = "white",
tickvals = list(175,185,195,205,215,225),
gridwidth = 1)),
yaxis = list(title = "Body Mass (g) ",
gridcolor = "white",
gridwith = 3,
tickvals = list(3000,4000,5000,6000),
minor = list(gridcolor = "white",
tickvals = list(3500,4500,5500),
gridwidth = 1)),
plot_bgcolor = "lightgray",
legend = list(title = list(text="Species"),
y=.3,
bgcolor = "lightgray"))
fig
library(plotly)
data <- read.csv("https://raw.githubusercontent.com/hsmith1212/a2-DataVis-5ways-has/refs/heads/main/penglings.csv")
colors <- c("#FA8000", "#800080", "#008080")
fig <- plot_ly(data, x = ~flipper_length_mm, y = ~body_mass_g, type = 'scatter', mode = 'markers', size = ~bill_length_mm, color = ~species, colors = colors,
#changing range of bubble sizes
sizes = c(8,25),
marker = list(opacity = 0.8, sizemode = 'diameter', borderwidth = 5),
hoverinfo = "text",
text = ~paste('Bill Length (mm): ', bill_lengh_mm))
fig <- fig %>% layout(
xaxis = list(title = "Flipper Length (mm)",
gridcolor = "white",
gridwith = 5,
tickvals = list(170,180,190,200,210,220,230),
minor = list(gridcolor = "white",
tickvals = list(175,185,195,205,215,225),
gridwidth = 1)),
yaxis = list(title = "Body Mass (g) ",
gridcolor = "white",
gridwith = 3,
tickvals = list(3000,4000,5000,6000),
minor = list(gridcolor = "white",
tickvals = list(3500,4500,5500),
gridwidth = 1)),
plot_bgcolor = "lightgray",
legend = list(title = list(text="Species"),
y=.3,
bgcolor = "lightgray"))
fig
library(plotly)
data <- read.csv("https://raw.githubusercontent.com/hsmith1212/a2-DataVis-5ways-has/refs/heads/main/penglings.csv")
colors <- c("#FA8000", "#800080", "#008080")
fig <- plot_ly(data, x = ~flipper_length_mm, y = ~body_mass_g, type = 'scatter', mode = 'markers', size = ~bill_length_mm, color = ~species, colors = colors,
#changing range of bubble sizes
sizes = c(8,25),
marker = list(opacity = 0.8, sizemode = 'diameter', borderwidth = 5),
hoverinfo = "text",
text = ~paste('Bill Length (mm): ', bill_lenght_mm))
fig <- fig %>% layout(
xaxis = list(title = "Flipper Length (mm)",
gridcolor = "white",
gridwith = 5,
tickvals = list(170,180,190,200,210,220,230),
minor = list(gridcolor = "white",
tickvals = list(175,185,195,205,215,225),
gridwidth = 1)),
yaxis = list(title = "Body Mass (g) ",
gridcolor = "white",
gridwith = 3,
tickvals = list(3000,4000,5000,6000),
minor = list(gridcolor = "white",
tickvals = list(3500,4500,5500),
gridwidth = 1)),
plot_bgcolor = "lightgray",
legend = list(title = list(text="Species"),
y=.3,
bgcolor = "lightgray"))
fig
library(plotly)
data <- read.csv("https://raw.githubusercontent.com/hsmith1212/a2-DataVis-5ways-has/refs/heads/main/penglings.csv")
colors <- c("#FA8000", "#800080", "#008080")
fig <- plot_ly(data, x = ~flipper_length_mm, y = ~body_mass_g, type = 'scatter', mode = 'markers', size = ~bill_length_mm, color = ~species, colors = colors,
#changing range of bubble sizes
sizes = c(8,25),
marker = list(opacity = 0.8, sizemode = 'diameter', borderwidth = 5),
hoverinfo = "text",
text = ~paste('Bill Length (mm): ', bill_length_mm))
fig <- fig %>% layout(
xaxis = list(title = "Flipper Length (mm)",
gridcolor = "white",
gridwith = 5,
tickvals = list(170,180,190,200,210,220,230),
minor = list(gridcolor = "white",
tickvals = list(175,185,195,205,215,225),
gridwidth = 1)),
yaxis = list(title = "Body Mass (g) ",
gridcolor = "white",
gridwith = 3,
tickvals = list(3000,4000,5000,6000),
minor = list(gridcolor = "white",
tickvals = list(3500,4500,5500),
gridwidth = 1)),
plot_bgcolor = "lightgray",
legend = list(title = list(text="Species"),
y=.3,
bgcolor = "lightgray"))
fig
library(plotly)
data <- read.csv("https://raw.githubusercontent.com/hsmith1212/a2-DataVis-5ways-has/refs/heads/main/penglings.csv")
colors <- c("#FA8000", "#800080", "#008080")
fig <- plot_ly(data, x = ~flipper_length_mm, y = ~body_mass_g, type = 'scatter', mode = 'markers', size = ~bill_length_mm, color = ~species, colors = colors,
#changing range of bubble sizes
sizes = c(8,25),
marker = list(opacity = 0.8, sizemode = 'diameter', borderwidth = 5),
hoverinfo = "text",
text = ~paste('Bill Length (mm): ', bill_length_mm, '<br>Flipper Length (mm):  ', flipper_length_mm, '<br>Body Mass (g): ', body_mass_g))
fig <- fig %>% layout(
xaxis = list(title = "Flipper Length (mm)",
gridcolor = "white",
gridwith = 5,
tickvals = list(170,180,190,200,210,220,230),
minor = list(gridcolor = "white",
tickvals = list(175,185,195,205,215,225),
gridwidth = 1)),
yaxis = list(title = "Body Mass (g) ",
gridcolor = "white",
gridwith = 3,
tickvals = list(3000,4000,5000,6000),
minor = list(gridcolor = "white",
tickvals = list(3500,4500,5500),
gridwidth = 1)),
plot_bgcolor = "lightgray",
legend = list(title = list(text="Species"),
y=.3,
bgcolor = "lightgray"))
fig
library(plotly)
data <- read.csv("https://raw.githubusercontent.com/hsmith1212/a2-DataVis-5ways-has/refs/heads/main/penglings.csv")
colors <- c("#FA8000", "#800080", "#008080")
fig <- plot_ly(data, x = ~flipper_length_mm, y = ~body_mass_g, type = 'scatter', mode = 'markers', size = ~bill_length_mm, color = ~species, colors = colors,
#changing range of bubble sizes
sizes = c(8,25),
marker = list(opacity = 0.7, sizemode = 'diameter', borderwidth = 5),
hoverinfo = "text",
text = ~paste('Bill Length (mm): ', bill_length_mm, '<br>Flipper Length (mm):  ', flipper_length_mm, '<br>Body Mass (g): ', body_mass_g))
#I could not figure out how to add a new legend to correspond bill length to bubble size, so intead I
# added hover functionality that will show you what that circles bill length is
fig <- fig %>% layout(
xaxis = list(title = "Flipper Length (mm)",
gridcolor = "white",
gridwith = 5,
tickvals = list(170,180,190,200,210,220,230),
minor = list(gridcolor = "white",
tickvals = list(175,185,195,205,215,225),
gridwidth = 1)),
yaxis = list(title = "Body Mass (g) ",
gridcolor = "white",
gridwith = 3,
tickvals = list(3000,4000,5000,6000),
minor = list(gridcolor = "white",
tickvals = list(3500,4500,5500),
gridwidth = 1)),
plot_bgcolor = "lightgray",
legend = list(title = list(text="Species"),
y=.3,
bgcolor = "lightgray"))
fig
